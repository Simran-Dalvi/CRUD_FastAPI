# üöÄ FastAPI Campaign Management API

This project provides a simple **Campaign Management RESTful API** built with **FastAPI** and **SQLModel**, using a **SQLite** database. It allows users to perform standard CRUD (Create, Read, Update, Delete) operations on campaign records created on database during runtime.

---

## üåü Project Overview

This API manages campaign data, where each campaign has a name, a due date, and an automatically recorded creation timestamp. The architecture uses:

* **FastAPI**: A modern, fast web framework for building APIs with Python.
* **SQLModel**: A library for interacting with SQL databases, designed for use with Python type hints and Pydantic.
* **SQLite**: Used as a simple, file-based database for development and demonstration.
* **Dependency Injection**: Used via FastAPI's `Depends` for managing database sessions.
* **Lifespan Events**: Used to initialize the database and populate it with initial data upon startup.

> NOTE: there are two files in this repo.

1. main.py which is connected to database and runs endpoint on the database

2. main1.py which contains only the CRUD function for drafting the endpoints


### Key Features:

* **CRUD Operations**: Full support for listing, viewing, creating, updating, and deleting campaigns.
* **Pydantic/SQLModel**: Data validation and serialization handled seamlessly.
* **Asynchronous Code**: Uses `async/await` where appropriate (e.g., in FastAPI route functions).
* **Custom Responses**: Implements a generic `Response` model for consistent API output structure.

---

## ‚öôÔ∏è How It Works (Technical Detail)

### 1. Database and ORM Setup

* **`SQLModel`**: The `Campaign` class inherits from `SQLModel` and defines the database table structure. The `campaign_id` is the primary key, and `created_at` automatically defaults to the current UTC time.
* **Engine**: `create_engine` sets up the connection to the `database.db` SQLite file.
* **Session Management**: The `get_session` function provides a **database session** using a Python context manager, which is then injected into route functions using FastAPI's dependency system.

### 2. Application Startup (`lifespan`)

The `lifespan` function runs code during startup:

1.  It calls `create_db_and_Table()` to ensure the `Campaign` table exists in the SQLite file.
2.  It checks if any campaigns exist. If not, it **populates the database** with initial campaigns ("Summer Launch" and "Black Friday") for immediate testing.

### 3. API Endpoints

The API exposes the following endpoints:

| Method | Endpoint | Description |
| :--- | :--- | :--- |
| `GET` | `/campaigns` | Retrieves a list of all campaigns. |
| `GET` | `/campaign/{id}` | Retrieves a single campaign by its ID. |
| `POST` | `/campaign` | Creates a new campaign (requires `campaign_name` and optional `due_date`). |
| `PUT` | `/campaign/{id}` | Updates an existing campaign's name and/or due date. |
| `DELETE` | `/campaign` | Deletes a campaign by its ID (sent as a query parameter). |

---

## Set UP

Follow these steps to set up and run the API on your local machine.

### 1.Prerequisites

**Python 3.11** was used for this project.

You need **Python 3.10 or higher** installed.

Clone the project into your local machine and open this folder in a terminal.

<I USE GIT BASH>



< 

```
pip install -r requirements.txt
```

 >


### 2. Running the Application
To run the application just run
```
fastapi dev main.py
```

### 3. Accessing the API
Once the server is running, you can access the API and its documentation:

Base API URL: http://127.0.0.1:8000/app/v1

Interactive Documentation (Swagger UI): The documentation is automatically generated by FastAPI and is available at: http://127.0.0.1:8000/app/v1/docs

You can use the documentation to test all the API endpoints directly in your browser.